# 1. VMWare虚拟机提示：另一个程序已锁定文件的一部分，进程无法访问...模块"Disk"启动失败

## 1.1 场景:

早上本地的gitlab挂了,没多想我觉得肯定是那台电脑开启时间太长了虚拟机卡死了,挂掉了.

我开了电脑就,打开VMware就发现出现了“锁定文件失败，打不开磁盘......模块"Disk"启动失败.”这些文字

![img](E:\学习笔记\mylearnnote\虚拟机\VMware\image\1537487-20200610121021710-893093496.png)

## 1.2那么问题来了,怎么会这样了?

这是因为虚拟机在运行的时候，会锁定文件，防止被修改，而如果系统突然崩溃了，虚拟机就来不急把已经锁定的文件解锁，所以你在启动的时候，就会提示无法锁定文件

## 1.3 我的处理:

由于这台是公司的专用电脑,我也没来得及查,先重启了电脑,然后再启动该虚拟机,嗯,好了.

后来我查了资料了解到:

.lck 文件是VMWARE软件的一种磁盘锁文件，由于虚拟磁盘(.vmdk)本身有一个磁盘保护机制，为了防止多台虚拟机同时访问同一个虚拟磁盘(.vmdk)带来的数据丢失和性能削减方面的隐患，每次启动虚拟机的时候虚拟机会使用扩展名为.lck（磁盘锁）文件对虚拟磁盘(.vmdk)进行锁定保护。当虚拟机关闭时.lck（磁盘锁）文件自动删除。可能由于各种非正常关闭虚拟机，而虚拟机还没来得及删除系统上的.lck（磁盘锁）文件，所以当下次启动虚拟机的时候出现了报错信息。

**所以删不删这个锁文件也无所谓,已经正常启动了,下次关机的时候它会自动删掉**